[
    {
        "name": "web",
        "image": "olivertso/tv-tracker",
        "memory": 128,
        "portMappings": [
            {
                "containerPort": 8000
            }
        ],
        "environment": [
            {
                "name": "ENV",
                "value": "${env}"
            },
            {
                "name": "ALLOWED_HOSTS",
                "value": "${allowed_hosts}"
            },
            {
                "name": "DATABASE_BACKUP_DIR",
                "value": "${database_backup_dir}"
            },
            {
                "name": "BUCKET_NAME",
                "value": "${bucket_name}"
            },
            {
                "name": "TMDB_CHECK_WAIT_SECONDS",
                "value": "${tmdb_check_wait_seconds}"
            },
            {
                "name": "DEFAULT_FROM_EMAIL",
                "value": "${default_from_email}"
            },
            {
                "name": "SENDGRID_SANDBOX_MODE",
                "value": "${sendgrid_sandbox_mode}"
            }
        ],
        "secrets": [
            {
                "name": "SECRET_KEY",
                "valueFrom": "${secret_key_arn}"
            },
            {
                "name": "ADMINS",
                "valueFrom": "${admins_arn}"
            },
            {
                "name": "ADMIN_PATH",
                "valueFrom": "${admin_path_arn}"
            },
            {
                "name": "DATABASE_URL",
                "valueFrom": "${database_url_arn}"
            },
            {
                "name": "TMDB_API_KEY",
                "valueFrom": "${tmdb_api_key_arn}"
            },
            {
                "name": "SENDGRID_USERNAME",
                "valueFrom": "${sendgrid_username_arn}"
            },
            {
                "name": "SENDGRID_PASSWORD",
                "valueFrom": "${sendgrid_password_arn}"
            },
            {
                "name": "SENDGRID_API_KEY",
                "valueFrom": "${sendgrid_api_key_arn}"
            }
        ],
        "requiresCompatibilities": [
            "EC2"
        ]
    }
]
