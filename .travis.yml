language: python

python:
  - 3.6

services:
  - docker

before_install:
  - sudo service postgresql stop
  - cp .env.example .env

install:
  - docker-compose build

script:
  - sh scripts/lint.sh
  - sh scripts/test.sh

after_success:
  - sudo mkdir /app
  - sudo cp -r project /app/project
  - pip install coveralls
  - coveralls

after_script:
  - docker-compose down -v
